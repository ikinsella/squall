{% extends "base.html" %}

{% block title %} Data {% endblock %}

{% block body %}
<h1 class="text-center">Data Collections</h1>

<div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-4">
        <form role="form" action="{{ url_for('.submit_collection') }}" method="post">
            {{ collection_form.hidden_tag() }}
            
            <div class="form-group">
                {{ collection_form.name.label }}
                {% if collection_form.name.errors %}
                {% for e in collection_form.name.errors %}
                <p class="help-block">{{ e }}</p>
                {% endfor %}{% endif %}
                {{ collection_form.name(class_="form-control") }}
            </div>
            
            <div class="form-group">
                {{ collection_form.description.label }}
                {% if collection_form.description.errors %}
                {% for e in collection_form.description.errors %}
                <p class="help-block">{{ e }}</p>
                {% endfor %}{% endif %}
                {{ collection_form.description(class_="form-control") }}
            </div>
            
            <div class="form-group">
                {{ collection_form.tags.label }}
                {% if collection_form.tags.errors %}
                {% for e in collection_form.tags.errors %}
                <p class="help-block">{{ e }}</p>
                {% endfor %}{% endif %}
                {{ collection_form.tags(class_="form-control") }}
            </div>
            
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
    <div class="col-md-4"></div>
</div>

<h1 class="text-center">Data Sets</h1>

<div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-4">
        <form role="form" action="{{ url_for('.submit_data_set') }}" method="post">
            {{ data_set_form.hidden_tag() }}
            
            <div class="form-group">
                {{ data_set_form.name.label }}
                {% if data_set_form.name.errors %}
                {% for e in data_set_form.name.errors %}
                <p class="help-block">{{ e }}</p>
                {% endfor %}{% endif %}
                {{ data_set_form.name(class_="form-control") }}
            </div>
            
            <div class="form-group">
                {{ data_set_form.data_collection.label }}
                {% if data_set_form.data_collection.errors %}
                {% for e in data_set_form.data_collection.errors %}
                <p class="help-block">{{ e }}</p>
                {% endfor %}{% endif %}
                {{ data_set_form.data_collection(class_="form-control") }}
            </div>
            
            <div class="form-group">
                <div data-toggle="fieldset" id="url-fieldset">
                    {{ data_set_form.urls.label }}
                    <table>
                        <!--td id="urls-0">{{ data_set_form.urls }}</td-->
                        <td><button type="button" data-toggle="fieldset-add-row" data-target="#url-fieldset">+</button></td>
                        {% for url in data_set_form.urls %}
                        
                        <tr data-toggle="fieldset-entry">
                            
                            <!--td id="urls-{{loop.index0}}">{{ data_set_form.urls(class_="form-control") }}</td-->
                            <td id="urls-{{loop.index0}}">{{ url }}</td>
                            
                            <td><button type="button" data-toggle="fieldset-remove-row" data-target="#url-fieldset" id="urls-{{loop.index0}}-remove">-</button></td>
                            <td>{{loop.index0 + 1}}</td>
                            
                        </tr>
                        
                        {% endfor %}
                    </table>
                    
                </div>
            </div>
            
            <div class="form-group">
                {{ data_set_form.description.label }}
                {% if data_set_form.description.errors %}
                {% for e in data_set_form.description.errors %}
                <p class="help-block">{{ e }}</p>
                {% endfor %}{% endif %}
                {{ data_set_form.description(class_="form-control") }}
            </div>
            
            <div class="form-group">
                {{ data_set_form.tags.label }}
                {% if data_set_form.tags.errors %}
                {% for e in data_set_form.tags.errors %}
                <p class="help-block">{{ e }}</p>
                {% endfor %}{% endif %}
                {{ data_set_form.tags(class_="form-control") }}
            </div>
            
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
    <div class="col-md-4"></div>
</div>

<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
<script src="{{ url_for("static", filename="js/page.js") }}"></script>

{% endblock %}
